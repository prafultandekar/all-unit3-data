<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Home</title>
    <link rel="stylesheet" href="./styles/main.css" />
  </head>
  <!-- <style>
    #container {
      display: flex;
      /* flex-direction: row; */
    }
    #sidebar {
      height: 300px;
      width: 150px;
      border: 1px solid red;
    }
    #main {
      border: 1px solid red;
      height: 500px;
      width: 100%;
    }
    img {
      width: 100%;
    }
  </style> -->

  <body>
    <div id="container">
      <div id="sidebar">
        <!--DO NOT CHANGE THIS ID's-->
        <!--Append the horizontal navbar(sidebar) here only-->
        <!-- <h3>Blog</h3>
        <input type="text" id="searchbar" />
        <h4>Sign In</h4>
        <h4>Log In</h4> -->
      </div>

      <div id="main">
        <!--DO NOT CHANGE THIS ID's-->
        <!--Append psychology blogs here only-->
      </div>
    </div>
  </body>
</html>
<script type="module">
  import sidebar from "/components/sidebar.js";
  let side = document.getElementById("sidebar");
  side.innerHTML = sidebar();

  import { apiCall, appendArticles, article, search } from "/scripts/main.js";
  let url = " https://blog-search-u3c4.herokuapp.com/api/blogs/psychology";

  apiCall(url);

  // let fn = async () => {
  //   try {
  //     let res = await fetch(
  //       " https://blog-search-u3c4.herokuapp.com/api/blogs/psychology"
  //     );
  //     let data = await res.json();
  //     //console.log("data:", data);
  //     appendData(data);
  //   } catch (error) {}
  // };
  // fn();

  let input = document.getElementById("searchbar");
  // console.log('input:', input)

  input.addEventListener("keypress", () => {
    search(event, input.value);
  });

  let search_term = async (e) => {
    if (e.code === "Enter") {
      localStorage.setItem("searchTerm", input.value);
      window.location.href = "search.html";
      //console.log('data:', data)
      //appendData(data);
    }
  };

  //let main = document.getElementById("main");
  // let appendData = (data) => {
  //   main.innerHTML = null;
  //   data.forEach((elem) => {
  //     let div = document.createElement("div");
  //     div.setAttribute("id", "blog");
  //     div.style.display = "flex";
  //     div.style.flex_direction = "row";
  //     div.style.gap = "20px";
  //     div.style.justifyContent = "center";
  //     div.addEventListener("click", () => {
  //       article(elem);
  //     });
  //     let div1 = document.createElement("div");

  //     div1.innerText = elem.title;
  //     let div2 = document.createElement("div");
  //     div2.innerText = elem.description;
  //     let div3 = document.createElement("div");
  //     div3.style.height = "200px";
  //     div3.style.width = "400px";

  //     let img = document.createElement("img");

  //     img.src = elem.urlToImage;
  //     div3.append(img);

  //     div.append(div1, div2, div3);

  //     main.append(div);
  //   });
  // };
  // appendArticles(data,main)

  // let clickData = [];

  // let article = (elem) => {
  //   clickData.push(elem);
  //   localStorage.setItem("article", JSON.stringify(clickData));
  //   window.location.href = "blog.html";
  // };
</script>
<script></script>
